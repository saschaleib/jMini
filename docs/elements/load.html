<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>.load – jMini Documentation</title>
		<meta name="description" content="jMini Documentation page for the .load function.">
		<link rel="stylesheet" type="text/css" media="all" href="../_theme/default.css" />
		<script src="../../jmini.js" type="text/javascript"></script>
		<script src="../_theme/docs.js" type="text/javascript"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#263832" />
	</head>
	<body data-pageid="elements:load">
		<nav id="pre-header">
			<div>
				<span class="label">jMini:</span>
				<ul>
					<li><a href="../../index.html">Home</a></li>
					<li><a href="../../download.html">Download</a></li>
					<li class="active"><a href="../index.html">Documentation</a></li>
				</ul>
			</div>
		</nav>
		<div id="header-layout">
			<header>
				<h1><a href="../index.html">jMini Documentation</a></h1>
			</header>
		</div>
		<div id="main-layout">
			<div id="main-sb-layout">
				<nav id="sidebar-nav">
					<h2>Documentation</h2>
				</nav>
				<main>
					<h2><span class="narrow">&lt;HTMLElement&gt;</span><tt>.load</tt>()</h2>

					<p>Loads an HTML snippet into an element.</p>
											
					<h3>Usage:</h3>
					
					<code class="block"><span class="narrow">&lt;HTMLElement&gt;</span> = <span class="narrow">&lt;HTMLElement&gt;</span>.<b>load</b>(url, options)</code>
					
					<dl class="properties">
						<dt>Member of:</dt>
						<dd><span class="narrow">&lt;HTMLElement&gt;</span>, any valid <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement" class="ext mdn" target="_blank">HTMLElement</a>.</dd>

						<dt>Parameters:</dt>
						<dd><ol>
							<li><strong>url</strong> – the address to load the HTML snippet from (required).</li>
							<li><strong>options</strong> – an object containing options for the HTTP request, as specified for the
								<a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API" class="ext mdn" target="_blank">Fetch&nbsp;<abbr>API</abbr></a>
								(optional).</li>
						</ol></dd>

						<dt>Returns:</dt>
						<dd>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="ext mdn" target="_blank">Promise</a>
							object, as returned by the <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch" class="ext mdn" target="_blank">fetch()</a>
							global function.
						</dd>
					</dl>
					
					<h3>Notes:</h3>
					
					<ul>
						<li>This is an <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Introducing" class="ext mdn" target="_blank">asynchronous</a>
							function, as the fetched data may only be available after a delay.</li>
						<li>Different to a plain <code>fetch()</code> request, this method rejects the promise also if
							a server-side error (HTTP codes 400 or higher) occurred.</li>
						<li>Security restrictions on which resources can be loaded, still apply to these requests.
							See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" class="ext mdn" target="_blank">CORS</a>
							for more information.</li>
					</ul>

					<h3>Examples:</h3>

					<p>A simple example could look like this:</p>

<code class="block javascript">document.getElementById('foo').<b>load</b>("bar.html");</code>

					<p>Since this method returns a
						<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="ext mdn" target="_blank">Promise</a>
						object, the <code>.<b>then</b>()</code> method can be used to chain program code that is called
						only after the resource is loaded:</p>

<code class="block javascript">document.getElementById('foo')
   .<b>load</b>("bar.html")
   .<b>then</b>( result => { console.info(result); } )
;</code>

					<p>The <code>.<b>then</b>()</code> method has an additional (optional) callback function,
					which gets called if an error occured:</p>

<code class="block javascript">document.getElementById('foo')
   .<b>load</b>("bar.html")
   .<b>then</b>(
      success => { console.info(success); },
      failure => { console.error(failure); })
;</code>

					<p>Moreover, the additional <code>.catch()</code> and <code>.finally()</code> callbacks can be 
						used. These function similarly to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch" class="ext mdn" target="_blank">try</a>
						blocks:
					</p>

<code class="block javascript">document.getElementById('foo')
   .<b>load</b>("bar.html")
   .<b>then</b>( … )
   .<b>catch</b>( err => {
      console.error(error);
   })
   .<b>finally</b>( () => {
      console.info('done.');
   })
;</code>

					<h3>See also:</h3>
					<ul>
						<li><a href="setHtml.html">.setHtml()</a></li>
					</ul>

					<h3>More information:</h3>
					<ul>
						<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch" class="ext mdn" target="_blank">fetch() global function</a>
							on <abbr title="Mozilla Develper Network">MDN</abbr></li>
						<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" class="ext mdn" target="_blank">Promise</a>
							on <abbr title="Mozilla Develper Network">MDN</abbr></li>
					</ul>
				</main>
			</div>
		</div>
		<div id="footer-layout">
			<footer>
				<p>jMini is licensed under the <a href="https://opensource.org/license/mit/" class="ext osi" target="_blank"><abbr>MIT</abbr> license</a>. For more information, please see this project’s <a href="https://github.com/saschaleib/jMini" class="ext github" target="_blank">GitHub Repository</a>.</p>
			</footer>
		</div>
	</body>
</html>
